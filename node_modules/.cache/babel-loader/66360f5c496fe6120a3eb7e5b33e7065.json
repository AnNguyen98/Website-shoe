{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Desktop/My Project/React JS/web-frontend-master/src/user_interface/containers/MyAccount.js\";\nimport React, { Component } from \"react\";\nimport { Card, Grid, Input, Radio, Button, IconButton, CardMedia } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport \"./MyAccount.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCamera } from \"@fortawesome/free-solid-svg-icons\";\nconst updateUrl = \"https://webttcn.herokuapp.com/v1/users/1\";\nconst getByIdUrl = \"https://webttcn.herokuapp.com/v1/users/me\";\n\nclass MyAccount extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      avatarPath: \"\",\n      idUser: localStorage.getItem(\"id_user\", \"none\"),\n      firstName: \"\",\n      lastName: \"\",\n      phoneNumber: \"\",\n      email: \"\",\n      sex: \"Nam\",\n      oldPassword: \"\",\n      newPassword: \"\",\n      confirmNewPassword: \"\",\n      avatarUrl: \"\"\n    };\n    this.setupInformation();\n  }\n\n  componentDidMount() {}\n\n  render() {\n    return React.createElement(\"div\", {\n      style: {\n        minHeight: 600\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        padding: 20,\n        marginTop: 20,\n        marginLeft: 50,\n        marginRight: 50,\n        marginBottom: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        fontSize: 17,\n        fontWeight: \"bold\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Th\\xF4ng tin t\\xE0i kho\\u1EA3n\")), React.createElement(Card, {\n      style: {\n        marginLeft: 50,\n        marginRight: 50,\n        padding: 10,\n        marginBottom: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(CardMedia, {\n      image: require(\"../images/avatar.jpg\"),\n      className: \"avatar-style\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      onClick: this.handleUploadProfile,\n      className: \"center-button-add-image\",\n      style: {\n        color: \"white\",\n        marginTop: 70\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      style: {\n        display: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(FontAwesomeIcon, {\n      icon: faCamera,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }))), React.createElement(Grid, {\n      spacing: 3,\n      container: true,\n      direction: \"column\",\n      style: {\n        marginTop: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"ID:\"), React.createElement(Input, {\n      className: \"text-field\",\n      value: this.state.idUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"label-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \" H\\u1ECD: \"), React.createElement(Input, {\n      className: \"text-field-name\",\n      value: this.state.firstName,\n      onChange: event => this.setState({\n        firstName: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"label-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \" T\\xEAn: \"), React.createElement(Input, {\n      className: \"text-field-name\",\n      value: this.state.lastName,\n      onChange: event => this.setState({\n        lastName: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i: \"), React.createElement(Input, {\n      className: \"text-field\",\n      value: this.state.phoneNumber,\n      onChange: event => this.setState({\n        phoneNumber: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Email: \"), React.createElement(Input, {\n      className: \"text-field\",\n      value: this.state.email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Gi\\u1EDBi t\\xEDnh : \"), React.createElement(Radio, {\n      value: \"Nam\",\n      checked: this.state.sex === \"Nam\",\n      onChange: event => this.setState({\n        sex: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), \" \", React.createElement(\"span\", {\n      className: \"label\",\n      style: {\n        width: 65\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Nam\"), React.createElement(Radio, {\n      value: \"Nu\",\n      checked: this.state.sex === \"Nu\",\n      onChange: event => this.setState({\n        sex: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), \" \", React.createElement(\"span\", {\n      className: \"label\",\n      tyle: {\n        width: 65\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"N\\u1EEF\")), React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"label\",\n      style: {\n        width: 450,\n        fontWeight: \"bold\",\n        fontSize: 17\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \" \", \"Thay \\u0111\\u1ED5i m\\u1EADt kh\\u1EA9u\")), React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"M\\u1EADt kh\\u1EA9u c\\u0169: \"), React.createElement(Input, {\n      className: \"text-field\",\n      value: this.state.oldPassword,\n      onChange: event => this.setState({\n        oldPassword: event.target.value\n      }),\n      placeholder: \"Nh\\u1EADp m\\u1EADt kh\\u1EA9u c\\u0169\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"M\\u1EADt kh\\u1EA9u m\\u1EDBi: \"), React.createElement(Input, {\n      type: \"password\",\n      className: \"text-field\",\n      value: this.state.newPassword,\n      onChange: event => this.setState({\n        newPassword: event.target.value\n      }),\n      placeholder: \"Nh\\u1EADp m\\u1EADt kh\\u1EA9u m\\u1EDBi\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"Nh\\u1EADp l\\u1EA1i: \"), React.createElement(Input, {\n      type: \"password\",\n      className: \"text-field\",\n      value: this.state.confirmNewPassword,\n      onChange: event => this.setState({\n        confirmNewPassword: event.target.value\n      }),\n      placeholder: \"Nh\\u1EADp l\\u1EA1i m\\u1EADt kh\\u1EA9u m\\u1EDBi\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    })), React.createElement(Button, {\n      style: {\n        textTransform: \"none\",\n        backgroundColor: \"yellow\",\n        marginLeft: 500,\n        marginRight: 500,\n        marginTop: 10,\n        marginBottom: 20\n      },\n      onClick: this.handleUpdate.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"C\\u1EADp nh\\u1EADt\"))));\n  }\n\n  handleUploadProfile() {}\n\n  setupInformation() {\n    const idUser = localStorage.getItem(\"id_user\", \"none\");\n    const tokenUser = localStorage.getItem(\"token_user\", \"none\");\n    console.log(tokenUser);\n\n    if (idUser === \"none\" || tokenUser === \"none\") {\n      return;\n    }\n\n    axios.get(getByIdUrl, {\n      headers: {\n        Authorization: \"Bearer \" + tokenUser\n      }\n    }).then(res => {\n      this.setState({\n        email: res.data.email,\n        phoneNumber: res.data.phone,\n        firstName: res.data.first_name,\n        lastName: res.data.last_name,\n        avatarUrl: res.data.avatar\n      });\n    });\n  }\n\n  handleUpdate() {\n    var isNotEmpty = this.state.password !== \"\" && this.state.firstName !== \"\" && this.state.lastName !== \"\" && this.state.phone !== \"\";\n\n    if (isNotEmpty) {\n      var user = {\n        first_name: this.state.firstName,\n        last_name: this.state.lastName,\n        phone: this.state.phone,\n        email: this.state.email,\n        password: this.state.password,\n        avatar: this.state.avatarUrl,\n        role: \"user\",\n        _id: this.state.idUser\n      };\n      axios.post(updateUrl, user).then(res => {\n        console.log(res.data.firstName);\n      }).catch(err => {\n        alert(\"Cập nhật thông tin thất bại!!\");\n      });\n    } else {\n      alert(\"Enter your email or password\");\n    }\n  }\n\n}\n\nexport default MyAccount;","map":{"version":3,"sources":["/Users/macbook/Desktop/My Project/React JS/web-frontend-master/src/user_interface/containers/MyAccount.js"],"names":["React","Component","Card","Grid","Input","Radio","Button","IconButton","CardMedia","axios","FontAwesomeIcon","faCamera","updateUrl","getByIdUrl","MyAccount","constructor","props","state","avatarPath","idUser","localStorage","getItem","firstName","lastName","phoneNumber","email","sex","oldPassword","newPassword","confirmNewPassword","avatarUrl","setupInformation","componentDidMount","render","minHeight","padding","marginTop","marginLeft","marginRight","marginBottom","fontSize","fontWeight","require","handleUploadProfile","color","display","event","setState","target","value","width","textTransform","backgroundColor","handleUpdate","bind","tokenUser","console","log","get","headers","Authorization","then","res","data","phone","first_name","last_name","avatar","isNotEmpty","password","user","role","_id","post","catch","err","alert"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Card,\n  Grid,\n  Input,\n  Radio,\n  Button,\n  IconButton,\n  CardMedia\n} from \"@material-ui/core\";\nimport axios from \"axios\";\n\nimport \"./MyAccount.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCamera } from \"@fortawesome/free-solid-svg-icons\";\n\nconst updateUrl = \"https://webttcn.herokuapp.com/v1/users/1\";\nconst getByIdUrl = \"https://webttcn.herokuapp.com/v1/users/me\";\n\nclass MyAccount extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      avatarPath: \"\",\n      idUser: localStorage.getItem(\"id_user\", \"none\"),\n      firstName: \"\",\n      lastName: \"\",\n      phoneNumber: \"\",\n      email: \"\",\n      sex: \"Nam\",\n      oldPassword: \"\",\n      newPassword: \"\",\n      confirmNewPassword: \"\",\n      avatarUrl: \"\"\n    };\n    this.setupInformation();\n  }\n\n  componentDidMount() {}\n\n  render() {\n    return (\n      <div style={{ minHeight: 600 }}>\n        <Card\n          style={{\n            padding: 20,\n            marginTop: 20,\n            marginLeft: 50,\n            marginRight: 50,\n            marginBottom: 10\n          }}\n        >\n          <span style={{ fontSize: 17, fontWeight: \"bold\" }}>\n            Thông tin tài khoản\n          </span>\n        </Card>\n        <Card\n          style={{\n            marginLeft: 50,\n            marginRight: 50,\n            padding: 10,\n            marginBottom: 20\n          }}\n        >\n          {/* <input type=\"file\" onChange={this.fileChangedHandler.bind(this)} /> */}\n\n          <CardMedia\n            image={require(\"../images/avatar.jpg\")}\n            className=\"avatar-style\"\n          >\n            <IconButton\n              onClick={this.handleUploadProfile}\n              className=\"center-button-add-image\"\n              style={{ color: \"white\", marginTop: 70 }}\n            >\n              <input type=\"file\" style={{ display: \"none\" }}></input>\n\n              <FontAwesomeIcon icon={faCamera}></FontAwesomeIcon>\n            </IconButton>\n          </CardMedia>\n          <Grid\n            spacing={3}\n            container\n            direction=\"column\"\n            style={{ marginTop: 20 }}\n          >\n            <Grid item>\n              <span className=\"label\">ID:</span>\n              <Input className=\"text-field\" value={this.state.idUser} />\n            </Grid>\n            <Grid item>\n              <span className=\"label-name\"> Họ: </span>\n              <Input\n                className=\"text-field-name\"\n                value={this.state.firstName}\n                onChange={event =>\n                  this.setState({ firstName: event.target.value })\n                }\n              />\n              <span className=\"label-name\"> Tên: </span>\n              <Input\n                className=\"text-field-name\"\n                value={this.state.lastName}\n                onChange={event =>\n                  this.setState({ lastName: event.target.value })\n                }\n              />\n            </Grid>\n            <Grid item>\n              <span className=\"label\">Số điện thoại: </span>\n              <Input\n                className=\"text-field\"\n                value={this.state.phoneNumber}\n                onChange={event =>\n                  this.setState({ phoneNumber: event.target.value })\n                }\n              />\n            </Grid>\n            <Grid item>\n              <span className=\"label\">Email: </span>\n              <Input className=\"text-field\" value={this.state.email} />\n            </Grid>\n            <Grid item>\n              <span className=\"label\">Giới tính : </span>\n              <Radio\n                value=\"Nam\"\n                checked={this.state.sex === \"Nam\"}\n                onChange={event =>\n                  this.setState({\n                    sex: event.target.value\n                  })\n                }\n              />{\" \"}\n              <span className=\"label\" style={{ width: 65 }}>\n                Nam\n              </span>\n              <Radio\n                value=\"Nu\"\n                checked={this.state.sex === \"Nu\"}\n                onChange={event =>\n                  this.setState({\n                    sex: event.target.value\n                  })\n                }\n              />{\" \"}\n              <span className=\"label\" tyle={{ width: 65 }}>\n                Nữ\n              </span>\n            </Grid>\n            <Grid item>\n              <span\n                className=\"label\"\n                style={{ width: 450, fontWeight: \"bold\", fontSize: 17 }}\n              >\n                {\" \"}\n                Thay đổi mật khẩu\n              </span>\n            </Grid>\n            <Grid item>\n              <span className=\"label\">Mật khẩu cũ: </span>\n              <Input\n                className=\"text-field\"\n                value={this.state.oldPassword}\n                onChange={event =>\n                  this.setState({ oldPassword: event.target.value })\n                }\n                placeholder=\"Nhập mật khẩu cũ\"\n              />\n            </Grid>\n            <Grid item>\n              <span className=\"label\">Mật khẩu mới: </span>\n              <Input\n                type=\"password\"\n                className=\"text-field\"\n                value={this.state.newPassword}\n                onChange={event =>\n                  this.setState({ newPassword: event.target.value })\n                }\n                placeholder=\"Nhập mật khẩu mới\"\n              />\n            </Grid>\n            <Grid item>\n              <span className=\"label\">Nhập lại: </span>\n              <Input\n                type=\"password\"\n                className=\"text-field\"\n                value={this.state.confirmNewPassword}\n                onChange={event =>\n                  this.setState({ confirmNewPassword: event.target.value })\n                }\n                placeholder=\"Nhập lại mật khẩu mới\"\n              />\n            </Grid>\n            <Button\n              style={{\n                textTransform: \"none\",\n                backgroundColor: \"yellow\",\n                marginLeft: 500,\n                marginRight: 500,\n                marginTop: 10,\n                marginBottom: 20\n              }}\n              onClick={this.handleUpdate.bind(this)}\n            >\n              Cập nhật\n            </Button>\n          </Grid>\n        </Card>\n      </div>\n    );\n  }\n\n  handleUploadProfile() {}\n\n  setupInformation() {\n    const idUser = localStorage.getItem(\"id_user\", \"none\");\n    const tokenUser = localStorage.getItem(\"token_user\", \"none\");\n    console.log(tokenUser);\n\n    if (idUser === \"none\" || tokenUser === \"none\") {\n      return;\n    }\n    axios\n      .get(getByIdUrl, {\n        headers: { Authorization: \"Bearer \" + tokenUser }\n      })\n      .then(res => {\n        this.setState({\n          email: res.data.email,\n          phoneNumber: res.data.phone,\n          firstName: res.data.first_name,\n          lastName: res.data.last_name,\n          avatarUrl: res.data.avatar\n        });\n      });\n  }\n  handleUpdate() {\n    var isNotEmpty =\n      this.state.password !== \"\" &&\n      this.state.firstName !== \"\" &&\n      this.state.lastName !== \"\" &&\n      this.state.phone !== \"\";\n    if (isNotEmpty) {\n      var user = {\n        first_name: this.state.firstName,\n        last_name: this.state.lastName,\n        phone: this.state.phone,\n        email: this.state.email,\n        password: this.state.password,\n        avatar: this.state.avatarUrl,\n        role: \"user\",\n        _id: this.state.idUser\n      };\n      axios\n        .post(updateUrl, user)\n        .then(res => {\n          console.log(res.data.firstName);\n        })\n        .catch(err => {\n          alert(\"Cập nhật thông tin thất bại!!\");\n        });\n    } else {\n      alert(\"Enter your email or password\");\n    }\n  }\n}\n\nexport default MyAccount;\n"]},"metadata":{},"sourceType":"module"}